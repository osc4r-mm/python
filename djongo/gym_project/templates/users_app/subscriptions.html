{% extends 'users_app/base.html' %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-5">Elige tu Nivel de Sufrimiento 💪</h1>
    
    <div class="row row-cols-1 row-cols-md-4 g-4">
        <!-- Plan Gratis -->
        <div class="col">
            <div class="card h-100 shadow-sm">
                <div class="card-header text-center bg-light">
                    <h5 class="my-0 font-weight-bold">Plebe Mode</h5>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title text-center">0€<small class="text-muted">/mes</small></h1>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="mb-2">✨ 0 rutinas simultáneas</li>
                        <li class="mb-2">❌ Sin acceso a clases premium</li>
                        <li class="mb-2">❌ Sin descuentos en la tienda</li>
                        <li class="mb-2">😢 Solo puedes mirar y llorar</li>
                    </ul>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="plan_type" value="free">
                        <button type="submit" class="btn btn-outline-primary mt-auto w-100" {% if user.plan_type == 'free' %}disabled{% endif %}>
                            {% if user.plan_type == 'free' %}
                                Plan Actual 🥺
                            {% else %}
                                ¡Quiero ser pobre! 
                            {% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Similar modification for other plan buttons -->
        <!-- Basic Plan -->
        <div class="col">
            <div class="card h-100 shadow-sm">
                <div class="card-header text-center bg-info text-white">
                    <h5 class="my-0 font-weight-bold">Principiante</h5>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title text-center">19.99€<small class="text-muted">/mes</small></h1>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="mb-2">💪 1 rutina simultánea</li>
                        <li class="mb-2">✅ Acceso básico a clases</li>
                        <li class="mb-2">🏪 5% descuento en tienda</li>
                        <li class="mb-2">🎯 Asesoramiento básico</li>
                    </ul>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="plan_type" value="basic">
                        <button type="submit" class="btn btn-info text-white mt-auto w-100" {% if user.plan_type == 'basic' %}disabled{% endif %}>
                            {% if user.plan_type == 'basic' %}
                                Plan Actual 💪
                            {% else %}
                                ¡Quiero empezar a sufrir!
                            {% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Repeat similar changes for medium and premium plans -->
        <!-- Advanced Plan -->
        <div class="col">
            <div class="card h-100 shadow-sm border-primary">
                <div class="card-header text-center bg-primary text-white">
                    <h5 class="my-0 font-weight-bold">Máquina</h5>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title text-center">29.99€<small class="text-muted">/mes</small></h1>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="mb-2">🔥 3 rutinas simultáneas</li>
                        <li class="mb-2">✨ Acceso a clases premium</li>
                        <li class="mb-2">🏪 15% descuento en tienda</li>
                        <li class="mb-2">👊 Asesoramiento personalizado</li>
                    </ul>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="plan_type" value="medium">
                        <button type="submit" class="btn btn-primary mt-auto w-100" {% if user.plan_type == 'medium' %}disabled{% endif %}>
                            {% if user.plan_type == 'medium' %}
                                Plan Actual 🔥
                            {% else %}
                                ¡A por todas!
                            {% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Premium Plan -->
        <div class="col">
            <div class="card h-100 shadow-sm border-warning">
                <div class="card-header text-center bg-warning text-dark">
                    <h5 class="my-0 font-weight-bold">Bestia Mode</h5>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title text-center">49.99€<small class="text-muted">/mes</small></h1>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="mb-2">🌟 Rutinas ilimitadas</li>
                        <li class="mb-2">👑 Acceso VIP a todo</li>
                        <li class="mb-2">🏪 25% descuento en tienda</li>
                        <li class="mb-2">🎯 Entrenador personal</li>
                    </ul>
                    <form method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="plan_type" value="premium">
                        <button type="submit" class="btn btn-warning mt-auto w-100" {% if user.plan_type == 'premium' %}disabled{% endif %}>
                            {% if user.plan_type == 'premium' %}
                                Plan Actual 👑
                            {% else %}
                                ¡Modo Bestia ON!
                            {% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}